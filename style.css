:root{
    --bg:#ffffff; --panel:rgb(255, 255, 255); --border:#FFF;
    --fg:#a4a4a4; --muted:#858585; --accent:#888888; --mono:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  }
  
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:radial-gradient(1200px 800px at 20% 10%,#b0b0b000 0%,var(--bg) 60%);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  .hidden{display:none!important}
  
  .viewport{height:100dvh;display:grid;place-items:center;padding:24px}
  
  .stage{
    position:relative; outline:1px solid var(--border); /* outline ne décale pas le contenu */
    border:0; border-radius:16px; box-shadow:0 18px 60px rgba(0, 0, 0, 0);
    background:#0c0c12; overflow:hidden;
  }
  
  /* un seul “media” visible (vidéo OU canvas SuperGif) */
  .media{position:absolute; inset:0; width:100%; height:100%; display:block}
  
  /* overlay par-dessus le média */
  #overlay{position:absolute; inset:0; width:100%; height:100%; pointer-events:none; z-index:2}
  
  /* Panel et bouton posés DANS la scène */
  .fab{position:absolute; right:12px; top:12px; width:42px; height:42px; z-index:4;
    border-radius:12px; border:1px solid var(--border); background:#000000; color:var(--fg);
    box-shadow:0 10px 30px rgba(0,0,0,.45); cursor:pointer; font-size:18px}
  .fab:hover{border-color:var(--accent)}
  
  .panel{position:absolute; right:12px; top:60px; width:min(420px,85vw); max-height:min(70vh,520px);
    background:var(--panel); border:1px solid var(--border); border-radius:14px; backdrop-filter:blur(10px);
    box-shadow:0 18px 60px rgba(0,0,0,.5); overflow:hidden; z-index:3; transform-origin:top right;
    transform:translateY(0) scale(1); opacity:1; pointer-events:auto; transition:transform .22s ease, opacity .22s ease}
  .panel:not(.open){transform:translateY(-6px) scale(.98); opacity:0; pointer-events:none}
  .panel-head{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid var(--border)}
  .panel-head h2{font-size:14px;margin:0;opacity:.9;letter-spacing:.2px}
  .icon-btn{background:#191932;color:var(--fg);border:1px solid var(--border);border-radius:10px;width:32px;height:32px;cursor:pointer}
  .icon-btn:hover{border-color:var(--accent)}
  .panel-body{padding:12px 14px;overflow:auto;max-height:calc(min(70vh,520px) - 48px)}
  
  .field{margin-bottom:12px}
  .lbl{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
  .inline{display:flex;align-items:center;gap:10px}
  .val{min-width:38px;text-align:right;color:var(--fg)}
  input[type="file"]{width:100%}
  input[type="range"]{width:100%}
  .btn{width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#000000;color:var(--fg);cursor:pointer}
  .btn:hover{border-color:var(--accent)}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  hr{border:none;border-top:1px solid var(--border);margin:10px 0 14px}
  
  .glyph-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
  .glyph-card{border:1px solid var(--border);border-radius:14px;padding:10px;background:#000000}
  .glyph-card .row{display:grid;grid-template-columns:1fr auto;align-items:center;gap:10px;margin-bottom:8px}
  .glyph-card .row:last-child{margin-bottom:0}
  .glyph-input{width:60px;padding:6px 8px;border-radius:10px;border:1px solid var(--border);background:#0c0c18;color:var(--fg);font-family:var(--mono)}
  
  .hint{font-size:12px;color:var(--muted);margin:8px 2px 0}
  .media { image-rendering: pixelated; }
#overlay { image-rendering: pixelated; }
